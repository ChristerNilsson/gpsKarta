// Generated by CoffeeScript 2.4.1
var Button, Dialogue, RectButton, calcr1r2, dialogues;

dialogues = [];

calcr1r2 = function(n, w, h) {
  var r1, r2, s;
  s = Math.min(w, h);
  r2 = s / 7;
  r1 = s / 3;
  if (n > 6) {
    r2 *= 7 / n;
  }
  return [Math.round(r1), Math.round(r2)];
};

assert([200, 86], calcr1r2(4, 600, 800));

assert([200, 75], calcr1r2(8, 600, 800));

Dialogue = class Dialogue {
  constructor(x1 = width / 2, y1 = height / 2) {
    this.x = x1;
    this.y = y1;
    this.col = '#ff06';
    this.buttons = [];
    dialogues.push(this);
  }

  add(prompt, event) {
    return this.buttons.push(new Button(this, prompt, event));
  }

  clock(title = ' ', backPop = false, turn = 0) {
    var button, chars, i, j, len, n, r1, r2, ref, v;
    this.backPop = backPop;
    n = this.buttons.length;
    [r1, r2] = calcr1r2(n, width, height);
    ref = this.buttons;
    for (i = j = 0, len = ref.length; j < len; i = ++j) {
      button = ref[i];
      v = i * 360 / n + turn - 90;
      button.x = r1 * cos(v);
      button.y = r1 * sin(v);
      button.r = r2;
    }
    button = new Button(this, title, function() {
      if (this.dlg.backPop) {
        return dialogues.pop();
      } else {
        return dialogues.clear();
      }
    });
    button.x = 0;
    button.y = 0;
    button.r = r2;
    this.buttons.push(button);
    chars = _.max((function() {
      var k, len1, ref1, results;
      ref1 = this.buttons;
      results = [];
      for (k = 0, len1 = ref1.length; k < len1; k++) {
        button = ref1[k];
        results.push(button.title.length);
      }
      return results;
    }).call(this));
    return this.textSize = chars === 1 ? 0.75 * r2 : 2.5 * r2 / chars;
  }

  update(delta) { // -1 eller +1
    var i, j, len, ref, ref1, results;
    if ((0 <= (ref = this.pageStart + delta * this.pageSize) && ref < this.lst.length)) {
      this.pageStart += delta * this.pageSize;
      ref1 = range(this.pageSize);
      results = [];
      for (j = 0, len = ref1.length; j < len; j++) {
        i = ref1[j];
        if (this.pageStart + i < this.lst.length) {
          results.push(this.buttons[i].arr = this.lst[this.pageStart + i]);
        } else {
          results.push(this.buttons[i].arr = []);
        }
      }
      return results;
    }
  }

  list(lst, pageSize = 10, backPop = true, click = function(arr) {
      return print(arr[0]);
    }) {
    var h, i, item, j, len, n, ref, w, x, y;
    this.lst = lst;
    this.pageSize = pageSize;
    this.backPop = backPop;
    this.pageStart = 0;
    n = this.pageSize;
    x = 0;
    w = width;
    h = height / (this.pageSize + 1);
    this.buttons.clear();
    ref = range(this.pageStart, this.pageStart + n);
    for (j = 0, len = ref.length; j < len; j++) {
      i = ref[j];
      if (i < this.lst.length) {
        item = this.lst[i];
        y = i * h;
        ((item) => {
          return this.buttons.push(new RectButton(this, item, x, y, w, h, function() {
            return click(this.arr);
          }));
        })(item);
      }
    }
    this.buttons.push(new RectButton(this, ['Prev'], 0 * w / 3, h * n, w / 3, h, function() {
      return this.dlg.update(-1);
    }));
    this.buttons.push(new RectButton(this, ['Cancel'], 1 * w / 3, h * n, w / 3, h, function() {
      if (this.dlg.backPop) {
        return dialogues.pop();
      } else {
        return dialogues.clear();
      }
    }));
    return this.buttons.push(new RectButton(this, ['Next'], 2 * w / 3, h * n, w / 3, h, function() {
      return this.dlg.update(+1);
    }));
  }

  show() {
    var button, j, len, ref;
    push();
    translate(this.x, this.y);
    textSize(this.textSize);
    ref = this.buttons;
    for (j = 0, len = ref.length; j < len; j++) {
      button = ref[j];
      button.show(this);
    }
    return pop();
  }

  execute(mx, my) {
    var button, j, len, ref;
    ref = this.buttons;
    for (j = 0, len = ref.length; j < len; j++) {
      button = ref[j];
      if (button.inside(mx, my, this)) {
        button.execute();
        return true;
      }
    }
    return false;
  }

};

Button = class Button {
  constructor(dlg, title1, event1 = function() {
      return print(this.txt);
    }) {
    this.dlg = dlg;
    this.title = title1;
    this.event = event1;
    this.active = true;
  }

  info(title1, event1) {
    this.title = title1;
    this.event = event1;
    return this.active = true;
  }

  show() {
    var arr;
    if (this.active) {
      fill(this.dlg.col);
    } else {
      fill("#fff8");
    }
    stroke(0);
    ellipse(this.x, this.y, 2 * this.r, 2 * this.r);
    push();
    if (this.active) {
      fill(0);
    } else {
      fill("#888");
    }
    noStroke();
    textAlign(CENTER, CENTER);
    textSize(this.dlg.textSize);
    arr = this.title.split(' ');
    if (arr.length === 1) {
      text(arr[0], this.x, this.y);
    } else {
      text(arr[0], this.x, this.y - 0.3 * this.r);
      text(arr[1], this.x, this.y + 0.3 * this.r);
    }
    return pop();
  }

  inside(mx, my) {
    return this.r > dist(mx, my, this.dlg.x + this.x, this.dlg.y + this.y);
  }

  execute() {
    if (this.active) {
      return this.event();
    }
  }

};

RectButton = class RectButton {
  constructor(dlg, arr1, x1, y1, w1, h1, event1 = function() {
      return print(this.item);
    }) {
    this.dlg = dlg;
    this.arr = arr1;
    this.x = x1;
    this.y = y1;
    this.w = w1;
    this.h = h1;
    this.event = event1;
    this.active = true;
  }

  info(arr1, event1) {
    this.arr = arr1;
    this.event = event1;
    return this.active = true;
  }

  show() {
    var col;
    col = '#ff0';
    if (this.active) {
      fill(col);
    } else {
      fill("#fff8");
    }
    stroke(0);
    rect(this.x, this.y, this.w, this.h);
    push();
    if (this.active) {
      fill(0);
    } else {
      fill("#888");
    }
    noStroke();
    textSize(this.dlg.textSize);
    if (this.arr.length === 1) {
      textAlign(CENTER, CENTER);
      text(this.arr[0], this.x + this.w / 2, this.y + this.h / 2);
    }
    if (this.arr.length === 2) {
      textAlign(LEFT, CENTER);
      text(this.arr[0], this.x + 10, this.y + this.h / 2);
      textAlign(RIGHT, CENTER);
      text(this.arr[1], this.x + this.w - 10, this.y + this.h / 2);
    }
    if (this.arr.length === 3) {
      textAlign(LEFT, CENTER);
      text(this.arr[0], this.x + 10, this.y + this.h / 2);
      textAlign(CENTER, CENTER);
      text(this.arr[1], this.x + this.w / 2, this.y + this.h / 2);
      textAlign(RIGHT, CENTER);
      text(this.arr[2], this.x + this.w - 10, this.y + this.h / 2);
    } else {

    }
    return pop();
  }

  inside(mx, my) {
    return (this.x < mx && mx < this.x + this.w) && (this.y < my && my < this.y + this.h);
  }

  execute() {
    if (this.active) {
      return this.event();
    }
  }

};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGlhbG9ndWUuanMiLCJzb3VyY2VSb290IjoiLi4iLCJzb3VyY2VzIjpbImNvZmZlZVxcZGlhbG9ndWUuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBLE1BQUEsRUFBQSxRQUFBLEVBQUEsVUFBQSxFQUFBLFFBQUEsRUFBQTs7QUFBQSxTQUFBLEdBQVk7O0FBRVosUUFBQSxHQUFXLFFBQUEsQ0FBQyxDQUFELEVBQUcsQ0FBSCxFQUFLLENBQUwsQ0FBQTtBQUNWLE1BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQTtFQUFBLENBQUEsR0FBSSxJQUFJLENBQUMsR0FBTCxDQUFTLENBQVQsRUFBVyxDQUFYO0VBQ0osRUFBQSxHQUFLLENBQUEsR0FBRTtFQUNQLEVBQUEsR0FBSyxDQUFBLEdBQUU7RUFDUCxJQUFHLENBQUEsR0FBSSxDQUFQO0lBQWMsRUFBQSxJQUFNLENBQUEsR0FBRSxFQUF0Qjs7U0FDQSxDQUFDLElBQUksQ0FBQyxLQUFMLENBQVcsRUFBWCxDQUFELEVBQWdCLElBQUksQ0FBQyxLQUFMLENBQVcsRUFBWCxDQUFoQjtBQUxVOztBQU1YLE1BQUEsQ0FBTyxDQUFDLEdBQUQsRUFBSyxFQUFMLENBQVAsRUFBaUIsUUFBQSxDQUFTLENBQVQsRUFBVyxHQUFYLEVBQWUsR0FBZixDQUFqQjs7QUFDQSxNQUFBLENBQU8sQ0FBQyxHQUFELEVBQUssRUFBTCxDQUFQLEVBQWlCLFFBQUEsQ0FBUyxDQUFULEVBQVcsR0FBWCxFQUFlLEdBQWYsQ0FBakI7O0FBRU0sV0FBTixNQUFBLFNBQUE7RUFFQyxXQUFjLE1BQU0sS0FBQSxHQUFNLENBQVosT0FBb0IsTUFBQSxHQUFPLENBQTNCLENBQUE7SUFBQyxJQUFDLENBQUE7SUFBYSxJQUFDLENBQUE7SUFDN0IsSUFBQyxDQUFBLEdBQUQsR0FBTztJQUNQLElBQUMsQ0FBQSxPQUFELEdBQVc7SUFDWCxTQUFTLENBQUMsSUFBVixDQUFlLElBQWY7RUFIYTs7RUFLZCxHQUFNLENBQUMsTUFBRCxFQUFR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QUFBLElBQUMsQ0FBQSxDQUFELEdBQUssRUFBTCxJQUFLLEVBQUwsR0FBVSxJQUFDLENBQUEsQ0FBRCxHQUFHLElBQUMsQ0FBQSxDQUFkLENBQUEsSUFBb0IsQ0FBQSxJQUFDLENBQUEsQ0FBRCxHQUFLLEVBQUwsSUFBSyxFQUFMLEdBQVUsSUFBQyxDQUFBLENBQUQsR0FBRyxJQUFDLENBQUEsQ0FBZDtFQUFoQzs7RUFDVCxPQUFVLENBQUEsQ0FBQTtJQUFHLElBQUcsSUFBQyxDQUFBLE1BQUo7YUFBZ0IsSUFBQyxDQUFBLEtBQUQsQ0FBQSxFQUFoQjs7RUFBSDs7QUFoQ1giLCJzb3VyY2VzQ29udGVudCI6WyJkaWFsb2d1ZXMgPSBbXVxyXG5cclxuY2FsY3IxcjIgPSAobix3LGgpIC0+XHJcblx0cyA9IE1hdGgubWluIHcsaFxyXG5cdHIyID0gcy83XHJcblx0cjEgPSBzLzNcclxuXHRpZiBuID4gNiB0aGVuIHIyICo9IDcvblxyXG5cdFtNYXRoLnJvdW5kKHIxKSxNYXRoLnJvdW5kKHIyKV1cclxuYXNzZXJ0IFsyMDAsODZdLCBjYWxjcjFyMiA0LDYwMCw4MDBcclxuYXNzZXJ0IFsyMDAsNzVdLCBjYWxjcjFyMiA4LDYwMCw4MDBcclxuXHJcbmNsYXNzIERpYWxvZ3VlIFxyXG5cclxuXHRjb25zdHJ1Y3RvciA6IChAeCA9IHdpZHRoLzIsIEB5ID0gaGVpZ2h0LzIpIC0+IFxyXG5cdFx0QGNvbCA9ICcjZmYwNidcclxuXHRcdEBidXR0b25zID0gW11cclxuXHRcdGRpYWxvZ3Vlcy5wdXNoIEBcclxuXHJcblx0YWRkIDogKHByb21wdCxldmVudCkgLT4gQGJ1dHRvbnMucHVzaCBuZXcgQnV0dG9uIEAscHJvbXB0LGV2ZW50XHJcblxyXG5cdGNsb2NrIDogKHRpdGxlPSAnICcsIEBiYWNrUG9wPWZhbHNlLCB0dXJuPTApIC0+XHJcblx0XHRuID0gQGJ1dHRvbnMubGVuZ3RoXHJcblx0XHRbcjEscjJdID0gY2FsY3IxcjIgbix3aWR0aCxoZWlnaHRcclxuXHRcdGZvciBidXR0b24saSBpbiBAYnV0dG9uc1xyXG5cdFx0XHR2ID0gaSozNjAvbiArIHR1cm4gLSA5MFxyXG5cdFx0XHRidXR0b24ueCA9IHIxKmNvcyB2XHJcblx0XHRcdGJ1dHRvbi55ID0gcjEqc2luIHZcclxuXHRcdFx0YnV0dG9uLnIgPSByMlxyXG5cdFx0YnV0dG9uID0gbmV3IEJ1dHRvbiBALCB0aXRsZSwgLT4gXHJcblx0XHRcdGlmIEBkbGcuYmFja1BvcCB0aGVuIGRpYWxvZ3Vlcy5wb3AoKSBlbHNlIGRpYWxvZ3Vlcy5jbGVhcigpXHJcblx0XHRidXR0b24ueCA9IDBcclxuXHRcdGJ1dHRvbi55ID0gMFxyXG5cdFx0YnV0dG9uLnIgPSByMlxyXG5cdFx0QGJ1dHRvbnMucHVzaCBidXR0b25cclxuXHRcdGNoYXJzID0gXy5tYXggKGJ1dHRvbi50aXRsZS5sZW5ndGggZm9yIGJ1dHRvbiBpbiBAYnV0dG9ucylcclxuXHRcdEB0ZXh0U2l6ZSA9IGlmIGNoYXJzID09IDEgdGhlbiAwLjc1KnIyIGVsc2UgMi41KnIyL2NoYXJzXHJcblxyXG5cdHVwZGF0ZSA6IChkZWx0YSkgLT4gIyAtMSBlbGxlciArMVxyXG5cdFx0aWYgMCA8PSBAcGFnZVN0YXJ0ICsgZGVsdGEgKiBAcGFnZVNpemUgPCBAbHN0Lmxlbmd0aFxyXG5cdFx0XHRAcGFnZVN0YXJ0ICs9IGRlbHRhICogQHBhZ2VTaXplXHJcblx0XHRcdGZvciBpIGluIHJhbmdlIEBwYWdlU2l6ZVxyXG5cdFx0XHRcdGlmIEBwYWdlU3RhcnQgKyBpIDwgQGxzdC5sZW5ndGhcclxuXHRcdFx0XHRcdEBidXR0b25zW2ldLmFyciA9IEBsc3RbQHBhZ2VTdGFydCArIGldIFxyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdEBidXR0b25zW2ldLmFyciA9IFtdXHJcblxyXG5cdGxpc3QgOiAoQGxzdCwgQHBhZ2VTaXplPTEwLCBAYmFja1BvcD10cnVlLCBjbGljayA9IChhcnIpIC0+IHByaW50IGFyclswXSkgLT5cclxuXHRcdEBwYWdlU3RhcnQgPSAwXHJcblx0XHRuID0gQHBhZ2VTaXplXHJcblx0XHR4ID0gMFxyXG5cdFx0dyA9IHdpZHRoXHJcblx0XHRoID0gaGVpZ2h0LyhAcGFnZVNpemUrMSlcclxuXHRcdEBidXR0b25zLmNsZWFyKClcclxuXHRcdGZvciBpIGluIHJhbmdlIEBwYWdlU3RhcnQsQHBhZ2VTdGFydCArIG5cclxuXHRcdFx0aWYgaSA8IEBsc3QubGVuZ3RoXHJcblx0XHRcdFx0aXRlbSA9IEBsc3RbaV1cclxuXHRcdFx0XHR5ID0gaSpoXHJcblx0XHRcdFx0ZG8gKGl0ZW0pID0+IEBidXR0b25zLnB1c2ggbmV3IFJlY3RCdXR0b24gQCwgaXRlbSwgeCx5LHcsaCwgLT4gY2xpY2sgQGFyclxyXG5cdFx0QGJ1dHRvbnMucHVzaCBuZXcgUmVjdEJ1dHRvbiBALCBbJ1ByZXYnXSwgMCp3LzMsaCpuLCB3LzMsaCwgLT4gQGRsZy51cGRhdGUgLTEgXHJcblx0XHRAYnV0dG9ucy5wdXNoIG5ldyBSZWN0QnV0dG9uIEAsIFsnQ2FuY2VsJ10sIDEqdy8zLGgqbiwgdy8zLGgsIC0+IFxyXG5cdFx0XHRpZiBAZGxnLmJhY2tQb3AgdGhlbiBkaWFsb2d1ZXMucG9wKCkgZWxzZSBkaWFsb2d1ZXMuY2xlYXIoKVxyXG5cdFx0QGJ1dHRvbnMucHVzaCBuZXcgUmVjdEJ1dHRvbiBALCBbJ05leHQnXSwgMip3LzMsaCpuLCB3LzMsaCwgLT4gQGRsZy51cGRhdGUgKzEgXHJcblxyXG5cdHNob3cgOiAtPlxyXG5cdFx0cHVzaCgpXHJcblx0XHR0cmFuc2xhdGUgQHgsQHlcclxuXHRcdHRleHRTaXplIEB0ZXh0U2l6ZVxyXG5cdFx0Zm9yIGJ1dHRvbiBpbiBAYnV0dG9uc1xyXG5cdFx0XHRidXR0b24uc2hvdyBAXHJcblx0XHRwb3AoKVxyXG5cclxuXHRleGVjdXRlIDogKG14LG15KSAtPlxyXG5cdFx0Zm9yIGJ1dHRvbiBpbiBAYnV0dG9uc1xyXG5cdFx0XHRpZiBidXR0b24uaW5zaWRlIG14LG15LEBcclxuXHRcdFx0XHRidXR0b24uZXhlY3V0ZSgpXHJcblx0XHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdGZhbHNlIFxyXG5cclxuY2xhc3MgQnV0dG9uIFxyXG5cdGNvbnN0cnVjdG9yIDogKEBkbGcsIEB0aXRsZSwgQGV2ZW50ID0gLT4gcHJpbnQgQHR4dCkgLT4gQGFjdGl2ZSA9IHRydWUgXHJcblx0aW5mbyA6IChAdGl0bGUsQGV2ZW50KSAtPiBAYWN0aXZlID0gdHJ1ZVxyXG5cdHNob3cgOiAtPlxyXG5cdFx0aWYgQGFjdGl2ZSB0aGVuIGZpbGwgQGRsZy5jb2wgZWxzZSBmaWxsIFwiI2ZmZjhcIlxyXG5cdFx0c3Ryb2tlIDBcclxuXHRcdGVsbGlwc2UgQHgsQHksMipAciwyKkByXHJcblx0XHRwdXNoKClcclxuXHRcdGlmIEBhY3RpdmUgdGhlbiBmaWxsIDAgZWxzZSBmaWxsIFwiIzg4OFwiXHJcblx0XHRub1N0cm9rZSgpXHJcblx0XHR0ZXh0QWxpZ24gQ0VOVEVSLENFTlRFUlxyXG5cdFx0dGV4dFNpemUgQGRsZy50ZXh0U2l6ZVxyXG5cdFx0YXJyID0gQHRpdGxlLnNwbGl0ICcgJ1xyXG5cdFx0aWYgYXJyLmxlbmd0aCA9PSAxIFxyXG5cdFx0XHR0ZXh0IGFyclswXSwgQHgsQHlcclxuXHRcdGVsc2UgXHJcblx0XHRcdHRleHQgYXJyWzBdLCBAeCxAeS0wLjMqQHJcclxuXHRcdFx0dGV4dCBhcnJbMV0sIEB4LEB5KzAuMypAclxyXG5cdFx0cG9wKClcclxuXHJcblx0aW5zaWRlIDogKG14LG15KSAtPiAgQHIgPiBkaXN0IG14LCBteSwgQGRsZy54ICsgQHgsIEBkbGcueSArIEB5IFxyXG5cdGV4ZWN1dGUgOiAtPiBpZiBAYWN0aXZlIHRoZW4gQGV2ZW50KClcclxuXHJcbmNsYXNzIFJlY3RCdXR0b24gXHJcblx0Y29uc3RydWN0b3IgOiAoQGRsZywgQGFyciwgQHgsIEB5LCBAdywgQGgsIEBldmVudCA9IC0+IHByaW50IEBpdGVtKSAtPiBAYWN0aXZlID0gdHJ1ZSBcclxuXHRpbmZvIDogKEBhcnIsQGV2ZW50KSAtPiBAYWN0aXZlID0gdHJ1ZVxyXG5cdHNob3cgOiAtPlxyXG5cdFx0Y29sID0gJyNmZjAnXHJcblxyXG5cdFx0aWYgQGFjdGl2ZSB0aGVuIGZpbGwgY29sIGVsc2UgZmlsbCBcIiNmZmY4XCJcclxuXHRcdHN0cm9rZSAwXHJcblx0XHRyZWN0IEB4LEB5LEB3LEBoXHJcblx0XHRwdXNoKClcclxuXHRcdGlmIEBhY3RpdmUgdGhlbiBmaWxsIDAgZWxzZSBmaWxsIFwiIzg4OFwiXHJcblx0XHRub1N0cm9rZSgpXHJcblx0XHR0ZXh0U2l6ZSBAZGxnLnRleHRTaXplXHJcblx0XHRpZiBAYXJyLmxlbmd0aCA9PSAxXHJcblx0XHRcdHRleHRBbGlnbiBDRU5URVIsQ0VOVEVSXHJcblx0XHRcdHRleHQgQGFyclswXSwgQHgrQHcvMixAeStAaC8yXHRcdFx0XHJcblx0XHRpZiBAYXJyLmxlbmd0aCA9PSAyXHJcblx0XHRcdHRleHRBbGlnbiBMRUZULENFTlRFUlxyXG5cdFx0XHR0ZXh0IEBhcnJbMF0sIEB4KzEwLEB5K0BoLzJcclxuXHRcdFx0dGV4dEFsaWduIFJJR0hULENFTlRFUlxyXG5cdFx0XHR0ZXh0IEBhcnJbMV0sIEB4K0B3LTEwLEB5K0BoLzJcclxuXHRcdGlmIEBhcnIubGVuZ3RoID09IDNcclxuXHRcdFx0dGV4dEFsaWduIExFRlQsQ0VOVEVSXHJcblx0XHRcdHRleHQgQGFyclswXSwgQHgrMTAsQHkrQGgvMlxyXG5cdFx0XHR0ZXh0QWxpZ24gQ0VOVEVSLENFTlRFUlxyXG5cdFx0XHR0ZXh0IEBhcnJbMV0sIEB4K0B3LzIsQHkrQGgvMlx0XHRcdFxyXG5cdFx0XHR0ZXh0QWxpZ24gUklHSFQsQ0VOVEVSXHJcblx0XHRcdHRleHQgQGFyclsyXSwgQHgrQHctMTAsQHkrQGgvMlxyXG5cdFx0ZWxzZVxyXG5cdFx0cG9wKClcclxuXHJcblx0aW5zaWRlIDogKG14LG15KSAtPiAgQHggPCBteCA8IEB4K0B3IGFuZCBAeSA8IG15IDwgQHkrQGhcclxuXHRleGVjdXRlIDogLT4gaWYgQGFjdGl2ZSB0aGVuIEBldmVudCgpXHJcbiJdfQ==
//# sourceURL=c:\github\gpsKarta\coffee\dialogue.coffee